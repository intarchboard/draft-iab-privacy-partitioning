<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Partitioning as an Architecture for Privacy</title>
<meta content="Mirja Kühlewind" name="author">
<meta content="Tommy Pauly" name="author">
<meta content="Christopher A. Wood" name="author">
<meta content="
       This document describes the principle of privacy partitioning, which selectively spreads data and communication across
multiple parties as a means to improve privacy by separating user identity from user data.
This document describes emerging patterns in protocols to partition what data and metadata is
revealed through protocol interactions, provides common terminology, and discusses how
to analyze such models. 
    " name="description">
<meta content="xml2rfc 3.18.2" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-iab-privacy-partitioning-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.18.2
    Python 3.11.6
    ConfigArgParse 1.5.3
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.3
    platformdirs 4.1.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.31.0
    setuptools 67.7.2
    six 1.16.0
    wcwidth 0.2.12
-->
<link href="draft-iab-privacy-partitioning.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Partitioning for Privacy</td>
<td class="right">December 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Kühlewind, et al.</td>
<td class="center">Expires 13 June 2024</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-iab-privacy-partitioning-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2023-12-11" class="published">11 December 2023</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2024-06-13">13 June 2024</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Kühlewind</div>
<div class="org">Ericsson Research</div>
</div>
<div class="author">
      <div class="author-name">T. Pauly</div>
<div class="org">Apple</div>
</div>
<div class="author">
      <div class="author-name">C. A. Wood</div>
<div class="org">Cloudflare</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Partitioning as an Architecture for Privacy</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes the principle of privacy partitioning, which selectively spreads data and communication across
multiple parties as a means to improve privacy by separating user identity from user data.
This document describes emerging patterns in protocols to partition what data and metadata is
revealed through protocol interactions, provides common terminology, and discusses how
to analyze such models.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Discussion of this document takes place on the
    Internet Architecture Board Internet Engineering Task Force mailing list (iab@iab.org),
    which is archived at <span><a href=""></a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Source for this draft and an issue tracker can be found at
    <span><a href="https://github.com/intarchboard/draft-obliviousness">https://github.com/intarchboard/draft-obliviousness</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 13 June 2024.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-privacy-partitioning" class="internal xref">Privacy Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-privacy-contexts" class="internal xref">Privacy Contexts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-context-separation" class="internal xref">Context Separation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-approaches-to-partitioning" class="internal xref">Approaches to Partitioning</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-a-survey-of-protocols-using" class="internal xref">A Survey of Protocols using Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-connect-proxying-and-masque" class="internal xref">CONNECT Proxying and MASQUE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-oblivious-http-and-dns" class="internal xref">Oblivious HTTP and DNS</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-privacy-pass" class="internal xref">Privacy Pass</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-privacy-preserving-measurem" class="internal xref">Privacy Preserving Measurement</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-applying-privacy-partitioni" class="internal xref">Applying Privacy Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-user-identifying-informatio" class="internal xref">User-Identifying Information</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-incorrect-or-incomplete-par" class="internal xref">Incorrect or Incomplete Partitioning</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-identifying-information-for" class="internal xref">Identifying Information for Partitioning</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-limits-of-privacy-partition" class="internal xref">Limits of Privacy Partitioning</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-violations-by-collusion" class="internal xref">Violations by Collusion</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-violations-by-insufficient-" class="internal xref">Violations by Insufficient Partitioning</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-partitioning-impacts" class="internal xref">Partitioning Impacts</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Protocols such as TLS and IPsec provide a secure (authenticated and encrypted) channel
between two endpoints over which endpoints transfer information. Encryption and authentication
of data in transit are necessary to protect information from being seen or modified by parties
other than the intended protocol participants. As such, this kind of security is necessary for ensuring that
information transferred over these channels remains private.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">However, a secure channel between two endpoints is insufficient for the privacy of the endpoints
themselves. In recent years, privacy requirements have expanded beyond the need to protect data in transit
between two endpoints. Some examples of this expansion include:<a href="#section-1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-3.1">
          <p id="section-1-3.1.1">A user accessing a service on a website might not consent to reveal their location,
but if that service is able to observe the client's IP address, it can learn something
about the user's location. This is problematic for privacy since the service can link
user data to the user's location.<a href="#section-1-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.2">
          <p id="section-1-3.2.1">A user might want to be able to access content for which they are authorized,
such as a news article, without needing to have which specific articles they
read on their account being recorded. This is problematic for privacy since the service
can link user activity to the user's account.<a href="#section-1-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.3">
          <p id="section-1-3.3.1">A client device that needs to upload metrics to an aggregation service might want to be
able to contribute data to the system without having their specific contributions
attributed to them. This is problematic for privacy since the service can link client
contributions to the specific client.<a href="#section-1-3.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-4">The commonality in these examples is that clients want to interact with or use a service
without exposing too much user-specific or identifying information to that service. In particular,
separating the user-specific identity information from user-specific data is necessary for
privacy. Thus, in order to protect user privacy, it is important to keep identity (who) and data
(what) separate.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">This document defines "privacy partitioning," sometimes also referred to as the "decoupling principle"
<span>[<a href="#DECOUPLING" class="cite xref">DECOUPLING</a>]</span>, as the general technique used to separate the data
and metadata visible to various parties in network communication, with the aim of improving
user privacy. Although privacy partitioning cannot guarantee there is no link between user-specific
identity and user-specific data, when applied properly it helps ensure that user privacy violations
become more technically difficult to achieve over time.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">Several IETF working groups are working on protocols or systems that adhere to the principle
of privacy partitioning, including Oblivious HTTP Application Intermediation (OHAI), Multiplexed Application Substrate over QUIC Encryption (MASQUE), Privacy Pass, and Privacy Preserving Measurement (PPM). This document summarizes
work in those groups and describes a framework for reasoning about the resulting privacy posture of different
endpoints in practice.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">Privacy partitioning is particularly relevant as a tool for data minimization, which is described
in <span><a href="https://rfc-editor.org/rfc/rfc6973#section-6.1" class="relref">Section 6.1</a> of [<a href="#RFC6973" class="cite xref">RFC6973</a>]</span>. <span>[<a href="#RFC6973" class="cite xref">RFC6973</a>]</span> provides guidance for privacy considerations in
Internet protocols, along with a set of questions on how to evaluate the data minimization
of a protocol in <span><a href="https://rfc-editor.org/rfc/rfc6973#section-7.1" class="relref">Section 7.1</a> of [<a href="#RFC6973" class="cite xref">RFC6973</a>]</span>. Protocols that employ privacy partitioning
ought to consider the questions in that section when evaluating their design, particularly
with regard to how identifiers and data can be correlated by protocol participants and
observers in each context that has been partitioned. Privacy partitioning can also be
used as a way to separate identity providers from relying parties
(see <span><a href="https://rfc-editor.org/rfc/rfc6973#section-6.1.4" class="relref">Section 6.1.4</a> of [<a href="#RFC6973" class="cite xref">RFC6973</a>]</span>), as in the case of Privacy Pass
(see Section <a href="#privacypass" class="auto internal xref">Section 3.3</a>).<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="privacy-partitioning">
<section id="section-2">
      <h2 id="name-privacy-partitioning">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-privacy-partitioning" class="section-name selfRef">Privacy Partitioning</a>
      </h2>
<p id="section-2-1">For the purposes of user privacy, this document focuses on user-specific information. This
might include any identifying information that is specific to a user, such as their email
address or IP address, or data about the user, such as their date of birth. Informally,
the goal of privacy partitioning is to ensure that each party in a system beyond the user
themselves only have access to one type of user-specific information.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This is a simple application of the principle of least privilege, wherein every party in
a system only has access to the minimum amount of information needed to fulfill their
function. Privacy partitioning advocates for this minimization by ensuring that protocols,
applications, and systems only reveal user-specific information to parties that need access
to the information for their intended purpose.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Put simply, privacy partitioning aims to separate <em>who</em> someone is from <em>what</em> they do. In the
rest of this section, we describe how privacy partitioning can be used to achieve this goal.<a href="#section-2-3" class="pilcrow">¶</a></p>
<div id="privacy-contexts">
<section id="section-2.1">
        <h3 id="name-privacy-contexts">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-privacy-contexts" class="section-name selfRef">Privacy Contexts</a>
        </h3>
<p id="section-2.1-1">Each piece of user-specific information exists within some context, where a context
is abstractly defined as a set of data, metadata, and the entities that share access
to that information. In order to prevent the correlation of user-specific information across
contexts, partitions need to ensure that any single entity (other than the client itself)
does not participate in more than one context where the information is visible.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2"><span>[<a href="#RFC6973" class="cite xref">RFC6973</a>]</span> discusses the importance of identifiers in reducing correlation as a way
of improving privacy:<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<blockquote id="section-2.1-3">
          <p id="section-2.1-3.1">Correlation is the combination of various pieces of information related to an individual
or that obtain that characteristic when combined... Correlation is closely related to
identification.  Internet protocols can facilitate correlation by allowing individuals'
activities to be tracked and combined over time.<a href="#section-2.1-3.1" class="pilcrow">¶</a></p>
<p id="section-2.1-3.2">Pseudonymity is strengthened when less personal data can be linked to the pseudonym; when
the same pseudonym is used less often and across fewer contexts; and when independently
chosen pseudonyms are more frequently used for new actions (making them, from an observer's or
attacker's perspective, unlinkable).<a href="#section-2.1-3.2" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-2.1-4">Context separation is foundational to privacy partitioning and reducing correlation.
As an example, consider an unencrypted HTTP session over TCP, wherein the context includes both the
content of the transaction as well as any metadata from the transport and IP headers; and the
participants include the client, routers, other network middleboxes, intermediaries, and server.
Middlboxes or intermediaries might simply forward traffic, or might terminate the
traffic at any layer (such as terminating the TCP connection from the client and creating another
TCP connection to the server). Regardless of how the middlebox interacts with the traffic,
for the purposes of privacy partitioning, it is able to observe all of the data in the context.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<span id="name-diagram-of-a-basic-unencryp"></span><div id="diagram-middlebox">
<figure id="figure-1">
          <div id="section-2.1-5.1">
            <div class="alignLeft art-svg artwork" id="section-2.1-5.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="176" width="560" viewBox="0 0 560 176" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,160" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 240,64 L 240,128" fill="none" stroke="black"></path>
                <path d="M 336,64 L 336,128" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,160" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 240,64 L 336,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,80 L 152,80" fill="none" stroke="black"></path>
                <path d="M 192,80 L 240,80" fill="none" stroke="black"></path>
                <path d="M 336,80 L 456,80" fill="none" stroke="black"></path>
                <path d="M 104,112 L 152,112" fill="none" stroke="black"></path>
                <path d="M 184,112 L 240,112" fill="none" stroke="black"></path>
                <path d="M 336,112 L 456,112" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 240,128 L 336,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="48" y="52">Context</text>
                  <text x="88" y="52">A</text>
                  <text x="172" y="84">HTTP</text>
                  <text x="68" y="100">Client</text>
                  <text x="288" y="100">Middlebox</text>
                  <text x="492" y="100">Server</text>
                  <text x="168" y="116">TCP</text>
                  <text x="172" y="132">flow</text>
                </g>
              </svg><a href="#section-2.1-5.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-diagram-of-a-basic-unencryp" class="selfRef">Diagram of a basic unencrypted client-to-server connection with middleboxes</a>
          </figcaption></figure>
</div>
<p id="section-2.1-6">Adding TLS encryption to the HTTP session is a simple partitioning technique that splits the
previous context into two separate contexts: the content of the transaction is now only visible
to the client, TLS-terminating intermediaries, and server; while the metadata in transport and
IP headers remain in the original context. In this scenario, without any further partitioning,
the entities that participate in both contexts can allow the data in both contexts to be correlated.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<span id="name-diagram-of-how-adding-encry"></span><div id="diagram-https">
<figure id="figure-2">
          <div id="section-2.1-7.1">
            <div class="alignLeft art-svg artwork" id="section-2.1-7.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="304" width="560" viewBox="0 0 560 304" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,288" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,192 L 240,256" fill="none" stroke="black"></path>
                <path d="M 336,192 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,288" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 256,96" fill="none" stroke="black"></path>
                <path d="M 304,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 240,192 L 336,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 160,224" fill="none" stroke="black"></path>
                <path d="M 192,224 L 240,224" fill="none" stroke="black"></path>
                <path d="M 336,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,256 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="48" y="52">Context</text>
                  <text x="88" y="52">A</text>
                  <text x="68" y="100">Client</text>
                  <text x="280" y="100">HTTPS</text>
                  <text x="492" y="100">Server</text>
                  <text x="48" y="180">Context</text>
                  <text x="88" y="180">B</text>
                  <text x="68" y="228">Client</text>
                  <text x="176" y="228">TCP</text>
                  <text x="288" y="228">Middlebox</text>
                  <text x="492" y="228">Server</text>
                  <text x="180" y="244">flow</text>
                </g>
              </svg><a href="#section-2.1-7.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-diagram-of-how-adding-encry" class="selfRef">Diagram of how adding encryption splits the context into two</a>
          </figcaption></figure>
</div>
<p id="section-2.1-8">Another way to create a partition is to simply use separate connections. For example, to
split two separate HTTP requests from one another, a client could issue the requests on
separate TCP connections, each on a different network, and at different times; and avoid
including obvious identifiers like HTTP cookies across the requests.<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<span id="name-diagram-of-making-separate-"></span><div id="diagram-dualconnect">
<figure id="figure-3">
          <div id="section-2.1-9.1">
            <div class="alignLeft art-svg artwork" id="section-2.1-9.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="304" width="560" viewBox="0 0 560 304" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,288" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,64 L 240,128" fill="none" stroke="black"></path>
                <path d="M 240,192 L 240,256" fill="none" stroke="black"></path>
                <path d="M 336,64 L 336,128" fill="none" stroke="black"></path>
                <path d="M 336,192 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,288" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 240,64 L 336,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 160,96" fill="none" stroke="black"></path>
                <path d="M 192,96 L 240,96" fill="none" stroke="black"></path>
                <path d="M 336,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 240,128 L 336,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 240,192 L 336,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 160,224" fill="none" stroke="black"></path>
                <path d="M 192,224 L 240,224" fill="none" stroke="black"></path>
                <path d="M 336,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,256 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="48" y="52">Context</text>
                  <text x="88" y="52">A</text>
                  <text x="124" y="84">IP</text>
                  <text x="144" y="84">A</text>
                  <text x="68" y="100">Client</text>
                  <text x="176" y="100">TCP</text>
                  <text x="288" y="100">Middlebox</text>
                  <text x="492" y="100">Server</text>
                  <text x="172" y="116">flow</text>
                  <text x="200" y="116">A</text>
                  <text x="288" y="116">A</text>
                  <text x="48" y="180">Context</text>
                  <text x="88" y="180">B</text>
                  <text x="124" y="212">IP</text>
                  <text x="144" y="212">B</text>
                  <text x="68" y="228">Client</text>
                  <text x="176" y="228">TCP</text>
                  <text x="288" y="228">Middlebox</text>
                  <text x="492" y="228">Server</text>
                  <text x="172" y="244">flow</text>
                  <text x="200" y="244">B</text>
                  <text x="288" y="244">B</text>
                </g>
              </svg><a href="#section-2.1-9.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-diagram-of-making-separate-" class="selfRef">Diagram of making separate connections to generate separate contexts</a>
          </figcaption></figure>
</div>
<p id="section-2.1-10">Using separate connections to create separate contexts can reduce or eliminate
the ability of specific parties to correlate activity across contexts. However,
any identifier at any layer that is common across different contexts can be
used as a way to correlate activity. Beyond IP addresses, many other factors
can be used together to create a fingerprint of a specific device (such as
MAC addresses, device properties, software properties and behavior, application state, etc).<a href="#section-2.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="context-separation">
<section id="section-2.2">
        <h3 id="name-context-separation">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-context-separation" class="section-name selfRef">Context Separation</a>
        </h3>
<p id="section-2.2-1">In order to define and analyze how various partitioning techniques work, the boundaries of what is
being partitioned need to be established. This is the role of context separation. In particular,
in order to prevent the correlation of user-specific information across contexts, partitions need
to ensure that any single entity (other than the client itself) does not participate in contexts
where both identifiers are visible.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">Context separation can be achieved in different ways, for example, over time, across network paths, based
on (en)coding, etc. The privacy-oriented protocols described in this document generally involve
more complex partitioning, but the techniques to partition communication contexts still employ the
same techniques:<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-2.2-3">
<li id="section-2.2-3.1">
            <p id="section-2.2-3.1.1">Encryption allows partitioning of contexts within a given network path.<a href="#section-2.2-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-2.2-3.2">
            <p id="section-2.2-3.2.1">Using separate connections across time or space allows partitioning of contexts for different
application transactions.<a href="#section-2.2-3.2.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<p id="section-2.2-4">These techniques are frequently used in conjunction for context separation. For example,
encrypting an HTTP exchange might prevent a network middlebox that sees a client IP address
from seeing the user account identifier, but it doesn't prevent the TLS-terminating server
from observing both identifiers and correlating them. As such, preventing correlation
requires separating contexts, such as by using proxying to conceal a client's IP address
that would otherwise be used as an identifier.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="approaches-to-partitioning">
<section id="section-2.3">
        <h3 id="name-approaches-to-partitioning">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-approaches-to-partitioning" class="section-name selfRef">Approaches to Partitioning</a>
        </h3>
<p id="section-2.3-1">While all of the partitioning protocols described in this document create
separate contexts using encryption and/or connection separation, each one has a
unique approach that results in different sets of contexts. Since many of
these protocols are new, it is yet to be seen how each approach will be
used at scale across the Internet, and what new models will emerge in the
future.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">There are multiple factors that lead to a diversity in approaches to
partitioning, including:<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3-3.1">
            <p id="section-2.3-3.1.1">Adding privacy partitioning to existing protocol ecosystems places
requirements and constraints on how contexts are constructed. CONNECT-style
proxying is intended to work with servers that are unaware of privacy contexts,
requiring more intermediaries to provide strong separation guarantees.
Oblivious HTTP, on the other hand, assumes servers that cooperate with context
separation, and thus reduces the overall number of elements in the solution.<a href="#section-2.3-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.3-3.2">
            <p id="section-2.3-3.2.1">Whether or not information exchange needs to happen bidirectionally in an
interactive fashion determines how contexts can be separated. Some use cases,
like metrics collection for PPM, can occur with information flowing only from
clients to servers, and can function even when clients are no longer connected.
Privacy Pass is an example of a case that can be either interactive or not,
depending on whether tokens can be cached and reused. CONNECT-style proxying and
Oblivious HTTP often requires bidirectional and interactive communication.<a href="#section-2.3-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.3-3.3">
            <p id="section-2.3-3.3.1">The degree to which contexts need to be partitioned depends in part
on the client's threat models and level of trust in various protocol participants. For example,
in Oblivious HTTP, clients allow relays to learn that clients are accessing a particular
application-specific gateway. If clients do not trust relays with this information, they can
instead use a multi-hop CONNECT-style proxy approach wherein no single party learns
whether specific clients are accessing a specific application. This is the default trust model
for systems like Tor, where multiple hops are used to drive down the probability of privacy
violations due to collusion or related attacks.<a href="#section-2.3-3.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="a-survey-of-protocols-using-partitioning">
<section id="section-3">
      <h2 id="name-a-survey-of-protocols-using">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-a-survey-of-protocols-using" class="section-name selfRef">A Survey of Protocols using Partitioning</a>
      </h2>
<p id="section-3-1">The following section discusses current on-going work in the IETF
that is applying privacy partitioning.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="masque">
<section id="section-3.1">
        <h3 id="name-connect-proxying-and-masque">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-connect-proxying-and-masque" class="section-name selfRef">CONNECT Proxying and MASQUE</a>
        </h3>
<p id="section-3.1-1">HTTP forward proxies, when using encryption on the connection between the client and the
proxy, provide privacy partitioning by separating a connection into multiple segments.
When connections to targets via the proxy themselves are encrypted,
the proxy cannot see the end-to-end content. HTTP has historically supported forward proxying
for TCP-like streams via the CONNECT method. More recently, the Multiplexed Application
Substrate over QUIC Encryption (MASQUE) working group has developed
protocols to similarly proxy UDP <span>[<a href="#CONNECT-UDP" class="cite xref">CONNECT-UDP</a>]</span> and IP packets
<span>[<a href="#CONNECT-IP" class="cite xref">CONNECT-IP</a>]</span> based on tunneling.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">In a single-proxy setup, there is a tunnel connection between the client and proxy and
an end-to-end connection that is tunnelled between the client and target. This setup,
as shown in the figure below, partitions communication into:<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-3.1">
            <p id="section-3.1-3.1.1">a Client-to-Target encrypted context, which contains the end-to-end content
within the TLS session to the target, such as HTTP content;<a href="#section-3.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.1-3.2">
            <p id="section-3.1-3.2.1">a Client-to-Target proxied context, which is the end-to-end data to the target that is
also visible to the proxy, such as a TLS session;<a href="#section-3.1-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.1-3.3">
            <p id="section-3.1-3.3.1">a Client-to-Proxy context, which contains the transport metadata between the client
and the target, and the request to the proxy to open a connection to the target;<a href="#section-3.1-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.1-3.4">
            <p id="section-3.1-3.4.1">and a Proxy-to-Target context, which for TCP and UDP proxying
contains any packet header information that is added or modified by the proxy,
e.g., the IP and TCP/UDP headers.<a href="#section-3.1-3.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<span id="name-diagram-of-one-hop-proxy-co"></span><div id="diagram-1hop">
<figure id="figure-4">
          <div id="section-3.1-4.1">
            <div class="alignLeft art-svg artwork" id="section-3.1-4.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="560" width="560" viewBox="0 0 560 560" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,544" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 32,320 L 32,384" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 104,320 L 104,384" fill="none" stroke="black"></path>
                <path d="M 240,192 L 240,256" fill="none" stroke="black"></path>
                <path d="M 240,320 L 240,384" fill="none" stroke="black"></path>
                <path d="M 240,448 L 240,512" fill="none" stroke="black"></path>
                <path d="M 336,192 L 336,256" fill="none" stroke="black"></path>
                <path d="M 336,320 L 336,384" fill="none" stroke="black"></path>
                <path d="M 336,448 L 336,512" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 456,448 L 456,512" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 528,448 L 528,512" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,544" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 248,96" fill="none" stroke="black"></path>
                <path d="M 296,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 240,192 L 336,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 136,224" fill="none" stroke="black"></path>
                <path d="M 200,224 L 240,224" fill="none" stroke="black"></path>
                <path d="M 336,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 240,256 L 336,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <path d="M 32,320 L 104,320" fill="none" stroke="black"></path>
                <path d="M 240,320 L 336,320" fill="none" stroke="black"></path>
                <path d="M 104,352 L 128,352" fill="none" stroke="black"></path>
                <path d="M 208,352 L 240,352" fill="none" stroke="black"></path>
                <path d="M 32,384 L 104,384" fill="none" stroke="black"></path>
                <path d="M 240,384 L 336,384" fill="none" stroke="black"></path>
                <path d="M 8,416 L 552,416" fill="none" stroke="black"></path>
                <path d="M 240,448 L 336,448" fill="none" stroke="black"></path>
                <path d="M 456,448 L 528,448" fill="none" stroke="black"></path>
                <path d="M 336,480 L 352,480" fill="none" stroke="black"></path>
                <path d="M 432,480 L 456,480" fill="none" stroke="black"></path>
                <path d="M 240,512 L 336,512" fill="none" stroke="black"></path>
                <path d="M 456,512 L 528,512" fill="none" stroke="black"></path>
                <path d="M 8,544 L 552,544" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="84" y="52">Client-to-Target</text>
                  <text x="192" y="52">Encrypted</text>
                  <text x="264" y="52">Context</text>
                  <text x="68" y="100">Client</text>
                  <text x="272" y="100">HTTPS</text>
                  <text x="492" y="100">Target</text>
                  <text x="272" y="116">content</text>
                  <text x="84" y="180">Client-to-Target</text>
                  <text x="184" y="180">Proxied</text>
                  <text x="248" y="180">Context</text>
                  <text x="68" y="228">Client</text>
                  <text x="168" y="228">Proxied</text>
                  <text x="288" y="228">Proxy</text>
                  <text x="492" y="228">Target</text>
                  <text x="152" y="244">TLS</text>
                  <text x="188" y="244">flow</text>
                  <text x="80" y="308">Client-to-Proxy</text>
                  <text x="176" y="308">Context</text>
                  <text x="68" y="356">Client</text>
                  <text x="168" y="356">Transport</text>
                  <text x="288" y="356">Proxy</text>
                  <text x="164" y="372">flow</text>
                  <text x="80" y="436">Proxy-to-Target</text>
                  <text x="176" y="436">Context</text>
                  <text x="288" y="484">Proxy</text>
                  <text x="392" y="484">Transport</text>
                  <text x="492" y="484">Target</text>
                  <text x="388" y="500">flow</text>
                </g>
              </svg><a href="#section-3.1-4.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-diagram-of-one-hop-proxy-co" class="selfRef">Diagram of one-hop proxy contexts</a>
          </figcaption></figure>
</div>
<p id="section-3.1-5">Using two (or more) proxies provides better privacy partitioning. In particular, with two proxies,
each proxy sees the Client metadata, but not the Target; the Target, but not the Client
metadata; or neither.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">In addition to the contexts described above for the single proxy case,
the two-hop proxy case shown in the figure below changes the contexts
in several ways:<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-7.1">
            <p id="section-3.1-7.1.1">the Client-to-Target proxied context only includes the second proxy
(referred to here as "Proxy B");<a href="#section-3.1-7.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.1-7.2">
            <p id="section-3.1-7.2.1">a new Client-to-Proxy B context is added, which is the TLS session
from the client to Proxy B that is also visible to the first proxy
(referred to here as "Proxy A");<a href="#section-3.1-7.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.1-7.3">
            <p id="section-3.1-7.3.1">the contexts that see transport data only (TCP or UDP over IP)
are separated out into three separate contexts, a Client-to-Proxy A
context, a Proxy A-to-Proxy B context, and a Proxy B-to-Target context.<a href="#section-3.1-7.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<span id="name-diagram-of-two-hop-proxy-co"></span><div id="diagram-2hop">
<figure id="figure-5">
          <div id="section-3.1-8.1">
            <div class="alignLeft art-svg artwork" id="section-3.1-8.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="816" width="560" viewBox="0 0 560 816" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,800" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 32,320 L 32,384" fill="none" stroke="black"></path>
                <path d="M 32,448 L 32,512" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 104,320 L 104,384" fill="none" stroke="black"></path>
                <path d="M 104,448 L 104,512" fill="none" stroke="black"></path>
                <path d="M 184,320 L 184,384" fill="none" stroke="black"></path>
                <path d="M 184,448 L 184,512" fill="none" stroke="black"></path>
                <path d="M 184,576 L 184,640" fill="none" stroke="black"></path>
                <path d="M 248,320 L 248,384" fill="none" stroke="black"></path>
                <path d="M 248,448 L 248,512" fill="none" stroke="black"></path>
                <path d="M 248,576 L 248,640" fill="none" stroke="black"></path>
                <path d="M 328,192 L 328,256" fill="none" stroke="black"></path>
                <path d="M 328,320 L 328,384" fill="none" stroke="black"></path>
                <path d="M 328,576 L 328,640" fill="none" stroke="black"></path>
                <path d="M 328,704 L 328,768" fill="none" stroke="black"></path>
                <path d="M 392,192 L 392,256" fill="none" stroke="black"></path>
                <path d="M 392,320 L 392,384" fill="none" stroke="black"></path>
                <path d="M 392,576 L 392,640" fill="none" stroke="black"></path>
                <path d="M 392,704 L 392,768" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 456,704 L 456,768" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 528,704 L 528,768" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,800" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 248,96" fill="none" stroke="black"></path>
                <path d="M 296,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 328,192 L 392,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 184,224" fill="none" stroke="black"></path>
                <path d="M 248,224 L 328,224" fill="none" stroke="black"></path>
                <path d="M 392,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 328,256 L 392,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <path d="M 32,320 L 104,320" fill="none" stroke="black"></path>
                <path d="M 184,320 L 248,320" fill="none" stroke="black"></path>
                <path d="M 328,320 L 392,320" fill="none" stroke="black"></path>
                <path d="M 104,352 L 184,352" fill="none" stroke="black"></path>
                <path d="M 248,352 L 328,352" fill="none" stroke="black"></path>
                <path d="M 32,384 L 104,384" fill="none" stroke="black"></path>
                <path d="M 184,384 L 248,384" fill="none" stroke="black"></path>
                <path d="M 328,384 L 392,384" fill="none" stroke="black"></path>
                <path d="M 8,416 L 552,416" fill="none" stroke="black"></path>
                <path d="M 32,448 L 104,448" fill="none" stroke="black"></path>
                <path d="M 184,448 L 248,448" fill="none" stroke="black"></path>
                <path d="M 104,480 L 184,480" fill="none" stroke="black"></path>
                <path d="M 32,512 L 104,512" fill="none" stroke="black"></path>
                <path d="M 184,512 L 248,512" fill="none" stroke="black"></path>
                <path d="M 8,544 L 552,544" fill="none" stroke="black"></path>
                <path d="M 184,576 L 248,576" fill="none" stroke="black"></path>
                <path d="M 328,576 L 392,576" fill="none" stroke="black"></path>
                <path d="M 248,608 L 328,608" fill="none" stroke="black"></path>
                <path d="M 184,640 L 248,640" fill="none" stroke="black"></path>
                <path d="M 328,640 L 392,640" fill="none" stroke="black"></path>
                <path d="M 8,672 L 552,672" fill="none" stroke="black"></path>
                <path d="M 328,704 L 392,704" fill="none" stroke="black"></path>
                <path d="M 456,704 L 528,704" fill="none" stroke="black"></path>
                <path d="M 392,736 L 456,736" fill="none" stroke="black"></path>
                <path d="M 328,768 L 392,768" fill="none" stroke="black"></path>
                <path d="M 456,768 L 528,768" fill="none" stroke="black"></path>
                <path d="M 8,800 L 552,800" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="84" y="52">Client-to-Target</text>
                  <text x="192" y="52">Encrypted</text>
                  <text x="264" y="52">Context</text>
                  <text x="68" y="100">Client</text>
                  <text x="272" y="100">HTTPS</text>
                  <text x="492" y="100">Target</text>
                  <text x="272" y="116">content</text>
                  <text x="84" y="180">Client-to-Target</text>
                  <text x="184" y="180">Proxied</text>
                  <text x="248" y="180">Context</text>
                  <text x="68" y="228">Client</text>
                  <text x="216" y="228">Proxied</text>
                  <text x="360" y="228">Proxy</text>
                  <text x="492" y="228">Target</text>
                  <text x="200" y="244">TLS</text>
                  <text x="236" y="244">flow</text>
                  <text x="360" y="244">B</text>
                  <text x="80" y="308">Client-to-Proxy</text>
                  <text x="152" y="308">B</text>
                  <text x="192" y="308">Context</text>
                  <text x="68" y="356">Client</text>
                  <text x="216" y="356">Proxy</text>
                  <text x="360" y="356">Proxy</text>
                  <text x="216" y="372">A</text>
                  <text x="360" y="372">B</text>
                  <text x="80" y="436">Client-to-Proxy</text>
                  <text x="152" y="436">A</text>
                  <text x="192" y="436">Context</text>
                  <text x="68" y="484">Client</text>
                  <text x="216" y="484">Proxy</text>
                  <text x="216" y="500">A</text>
                  <text x="40" y="564">Proxy</text>
                  <text x="108" y="564">A-to-Proxy</text>
                  <text x="160" y="564">B</text>
                  <text x="200" y="564">Context</text>
                  <text x="216" y="612">Proxy</text>
                  <text x="360" y="612">Proxy</text>
                  <text x="216" y="628">A</text>
                  <text x="360" y="628">B</text>
                  <text x="40" y="692">Proxy</text>
                  <text x="112" y="692">B-to-Target</text>
                  <text x="192" y="692">Context</text>
                  <text x="360" y="740">Proxy</text>
                  <text x="492" y="740">Target</text>
                  <text x="360" y="756">B</text>
                </g>
              </svg><a href="#section-3.1-8.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-diagram-of-two-hop-proxy-co" class="selfRef">Diagram of two-hop proxy contexts</a>
          </figcaption></figure>
</div>
<p id="section-3.1-9">Forward proxying, such as the protocols developed in MASQUE, uses both encryption (via TLS) and
separation of connections (via proxy hops that see only the next hop) to achieve privacy partitioning.<a href="#section-3.1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="oblivious-http-and-dns">
<section id="section-3.2">
        <h3 id="name-oblivious-http-and-dns">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-oblivious-http-and-dns" class="section-name selfRef">Oblivious HTTP and DNS</a>
        </h3>
<p id="section-3.2-1">Oblivious HTTP <span>[<a href="#OHTTP" class="cite xref">OHTTP</a>]</span>, developed in the Oblivious HTTP Application
Intermediation (OHAI) working group, adds per-message
encryption to HTTP exchanges through a relay system. Clients send requests through an Oblivious Relay,
which cannot read message contents, to an Oblivious Gateway, which can decrypt the messages but
cannot communicate directly with the client or observe client metadata like IP address.
Oblivious HTTP relies on Hybrid Public Key Encryption <span>[<a href="#HPKE" class="cite xref">HPKE</a>]</span> to perform encryption.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">Oblivious HTTP uses both encryption and separation of connections to achieve privacy partitioning.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-3.1">
            <p id="section-3.2-3.1.1">End-to-end messages are encrypted between the Client and Gateway. The
content of these inner messages are visible to the Client, Gateway, and
Target. This is the Client-to-Target context.<a href="#section-3.2-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.2-3.2">
            <p id="section-3.2-3.2.1">The encrypted messages exchanged between the Client and Gateway
are visible to the Relay, but the Relay cannot decrypt the messages.
This is the Client-to-Gateway context.<a href="#section-3.2-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.2-3.3">
            <p id="section-3.2-3.3.1">The transport (such as TCP and TLS) connections between the Client,
Relay, and Gateway form two separate contexts: a Client-to-Relay
context and a Relay-to-Gateway context. It is important
to note that the Relay-to-Gateway connection can be a single connection,
even if the Relay has many separate Clients. This provides better anonymity
by making the pseudonym presented by the Relay to be shared across many Clients.<a href="#section-3.2-3.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<span id="name-diagram-of-oblivious-http-c"></span><div id="diagram-ohttp">
<figure id="figure-6">
          <div id="section-3.2-4.1">
            <div class="alignLeft art-svg artwork" id="section-3.2-4.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="560" width="560" viewBox="0 0 560 560" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,544" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 32,192 L 32,256" fill="none" stroke="black"></path>
                <path d="M 32,320 L 32,384" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 104,192 L 104,256" fill="none" stroke="black"></path>
                <path d="M 104,320 L 104,384" fill="none" stroke="black"></path>
                <path d="M 184,192 L 184,256" fill="none" stroke="black"></path>
                <path d="M 184,320 L 184,384" fill="none" stroke="black"></path>
                <path d="M 184,448 L 184,512" fill="none" stroke="black"></path>
                <path d="M 248,192 L 248,256" fill="none" stroke="black"></path>
                <path d="M 248,320 L 248,384" fill="none" stroke="black"></path>
                <path d="M 248,448 L 248,512" fill="none" stroke="black"></path>
                <path d="M 328,64 L 328,128" fill="none" stroke="black"></path>
                <path d="M 328,192 L 328,256" fill="none" stroke="black"></path>
                <path d="M 328,448 L 328,512" fill="none" stroke="black"></path>
                <path d="M 408,64 L 408,128" fill="none" stroke="black"></path>
                <path d="M 408,192 L 408,256" fill="none" stroke="black"></path>
                <path d="M 408,448 L 408,512" fill="none" stroke="black"></path>
                <path d="M 456,64 L 456,128" fill="none" stroke="black"></path>
                <path d="M 528,64 L 528,128" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,544" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 328,64 L 408,64" fill="none" stroke="black"></path>
                <path d="M 456,64 L 528,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 328,96" fill="none" stroke="black"></path>
                <path d="M 408,96 L 456,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 328,128 L 408,128" fill="none" stroke="black"></path>
                <path d="M 456,128 L 528,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 32,192 L 104,192" fill="none" stroke="black"></path>
                <path d="M 184,192 L 248,192" fill="none" stroke="black"></path>
                <path d="M 328,192 L 408,192" fill="none" stroke="black"></path>
                <path d="M 104,224 L 184,224" fill="none" stroke="black"></path>
                <path d="M 248,224 L 328,224" fill="none" stroke="black"></path>
                <path d="M 32,256 L 104,256" fill="none" stroke="black"></path>
                <path d="M 184,256 L 248,256" fill="none" stroke="black"></path>
                <path d="M 328,256 L 408,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <path d="M 32,320 L 104,320" fill="none" stroke="black"></path>
                <path d="M 184,320 L 248,320" fill="none" stroke="black"></path>
                <path d="M 104,352 L 184,352" fill="none" stroke="black"></path>
                <path d="M 32,384 L 104,384" fill="none" stroke="black"></path>
                <path d="M 184,384 L 248,384" fill="none" stroke="black"></path>
                <path d="M 8,416 L 552,416" fill="none" stroke="black"></path>
                <path d="M 184,448 L 248,448" fill="none" stroke="black"></path>
                <path d="M 328,448 L 408,448" fill="none" stroke="black"></path>
                <path d="M 248,480 L 328,480" fill="none" stroke="black"></path>
                <path d="M 184,512 L 248,512" fill="none" stroke="black"></path>
                <path d="M 328,512 L 408,512" fill="none" stroke="black"></path>
                <path d="M 8,544 L 552,544" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="84" y="52">Client-to-Target</text>
                  <text x="184" y="52">Context</text>
                  <text x="68" y="100">Client</text>
                  <text x="368" y="100">Gateway</text>
                  <text x="492" y="100">Target</text>
                  <text x="88" y="180">Client-to-Gateway</text>
                  <text x="192" y="180">Context</text>
                  <text x="68" y="228">Client</text>
                  <text x="216" y="228">Relay</text>
                  <text x="368" y="228">Gateway</text>
                  <text x="80" y="308">Client-to-Relay</text>
                  <text x="176" y="308">Context</text>
                  <text x="68" y="356">Client</text>
                  <text x="216" y="356">Relay</text>
                  <text x="84" y="436">Relay-to-Gateway</text>
                  <text x="184" y="436">Context</text>
                  <text x="216" y="484">Relay</text>
                  <text x="368" y="484">Gateway</text>
                </g>
              </svg><a href="#section-3.2-4.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-diagram-of-oblivious-http-c" class="selfRef">Diagram of Oblivious HTTP contexts</a>
          </figcaption></figure>
</div>
<p id="section-3.2-5">Oblivious DNS over HTTPS <span>[<a href="#ODOH" class="cite xref">ODOH</a>]</span> applies the same principle as Oblivious HTTP, but operates on
DNS messages only. As a precursor to the more generalized Oblivious HTTP, it relies on the same
HPKE cryptographic primitives, and can be analyzed in the same way.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="privacypass">
<section id="section-3.3">
        <h3 id="name-privacy-pass">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-privacy-pass" class="section-name selfRef">Privacy Pass</a>
        </h3>
<p id="section-3.3-1">Privacy Pass is an architecture <span>[<a href="#PRIVACYPASS" class="cite xref">PRIVACYPASS</a>]</span> and a set of protocols
being developed in the Privacy Pass working group that allows clients to present proof of verification in
an anonymous and unlinkable fashion, via tokens. These tokens originally were designed as a way to prove
that a client had solved a CAPTCHA, but can be applied to other types of user or device attestation checks
as well. In Privacy Pass, clients interact with an attester and issuer for the purposes of issuing a token,
and clients then interact with an origin server to redeem said token.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">In Privacy Pass, privacy partitioning is achieved with cryptographic protection (in the form of blind
signature protocols or similar) and separation of connections across two contexts:
a "redemption context" between clients and origins (servers that request and receive tokens), and an
"issuance context" between clients, attestation servers, and token issuance servers. The cryptographic
protection ensures that information revealed during the issuance context is separated from information
revealed during the redemption context.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<span id="name-diagram-of-contexts-in-priv"></span><div id="diagram-privacypass">
<figure id="figure-7">
          <div id="section-3.3-3.1">
            <div class="alignLeft art-svg artwork" id="section-3.3-3.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="304" width="560" viewBox="0 0 560 304" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,288" fill="none" stroke="black"></path>
                <path d="M 32,64 L 32,128" fill="none" stroke="black"></path>
                <path d="M 104,64 L 104,128" fill="none" stroke="black"></path>
                <path d="M 184,64 L 184,128" fill="none" stroke="black"></path>
                <path d="M 184,192 L 184,256" fill="none" stroke="black"></path>
                <path d="M 256,64 L 256,128" fill="none" stroke="black"></path>
                <path d="M 256,192 L 256,256" fill="none" stroke="black"></path>
                <path d="M 312,192 L 312,256" fill="none" stroke="black"></path>
                <path d="M 400,192 L 400,256" fill="none" stroke="black"></path>
                <path d="M 456,192 L 456,256" fill="none" stroke="black"></path>
                <path d="M 528,192 L 528,256" fill="none" stroke="black"></path>
                <path d="M 552,32 L 552,288" fill="none" stroke="black"></path>
                <path d="M 8,32 L 552,32" fill="none" stroke="black"></path>
                <path d="M 32,64 L 104,64" fill="none" stroke="black"></path>
                <path d="M 184,64 L 256,64" fill="none" stroke="black"></path>
                <path d="M 104,96 L 184,96" fill="none" stroke="black"></path>
                <path d="M 32,128 L 104,128" fill="none" stroke="black"></path>
                <path d="M 184,128 L 256,128" fill="none" stroke="black"></path>
                <path d="M 8,160 L 552,160" fill="none" stroke="black"></path>
                <path d="M 184,192 L 256,192" fill="none" stroke="black"></path>
                <path d="M 312,192 L 400,192" fill="none" stroke="black"></path>
                <path d="M 456,192 L 528,192" fill="none" stroke="black"></path>
                <path d="M 256,224 L 312,224" fill="none" stroke="black"></path>
                <path d="M 400,224 L 456,224" fill="none" stroke="black"></path>
                <path d="M 184,256 L 256,256" fill="none" stroke="black"></path>
                <path d="M 312,256 L 400,256" fill="none" stroke="black"></path>
                <path d="M 456,256 L 528,256" fill="none" stroke="black"></path>
                <path d="M 8,288 L 552,288" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="60" y="52">Redemption</text>
                  <text x="136" y="52">Context</text>
                  <text x="68" y="100">Origin</text>
                  <text x="220" y="100">Client</text>
                  <text x="52" y="180">Issuance</text>
                  <text x="120" y="180">Context</text>
                  <text x="220" y="228">Client</text>
                  <text x="356" y="228">Attester</text>
                  <text x="492" y="228">Issuer</text>
                </g>
              </svg><a href="#section-3.3-3.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-diagram-of-contexts-in-priv" class="selfRef">Diagram of contexts in Privacy Pass</a>
          </figcaption></figure>
</div>
<p id="section-3.3-4">Since the redemption context and issuance context are separate connections
that involve separate entities, they can also be further decoupled by
running those parts of the protocols at different times. Clients can
fetch tokens through the issuance context early, and cache the tokens
to later use in redemption contexts. This can aid in partitioning identifiers
and data.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<p id="section-3.3-5"><span>[<a href="#PRIVACYPASS" class="cite xref">PRIVACYPASS</a>]</span> describes different deployment models for which entities operate
origins, attesters, and issuers; in some models, they are all separate
entities, but in others, they can be operated by the same entity. The
model impacts the effectiveness of partitioning, and some models
(such as when all three are operated by the same entity) only provide
effective partitioning when the timing of connections on the two
contexts are not correlated, and when the client uses different
identifiers (such as different IP addresses) on each context.<a href="#section-3.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="privacy-preserving-measurement">
<section id="section-3.4">
        <h3 id="name-privacy-preserving-measurem">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-privacy-preserving-measurem" class="section-name selfRef">Privacy Preserving Measurement</a>
        </h3>
<p id="section-3.4-1">The Privacy Preserving Measurement (PPM) working group is chartered to develop protocols and systems
that help a data aggregation or collection server (or multiple, non-colluding servers) compute aggregate
values without learning the value of any one client's individual measurement. Distributed Aggregation
Protocol (DAP) is the primary working item of the group.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">At a high level, DAP uses a combination of cryptographic protection (in the form of secret sharing amongst
non-colluding servers) to establish two contexts: an "upload context" between clients and non-colluding
aggregation servers (in which the servers are separated into "Helper" and "Leader" roles) wherein aggregation
servers possibly learn client identity but nothing about their individual measurement reports, and
a "collect context" wherein a collector learns aggregate measurement results and nothing
about individual client data.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<span id="name-diagram-of-contexts-in-dap"></span><div id="pa-topology">
<figure id="figure-8">
          <div id="section-3.4-3.1">
            <div class="alignLeft art-svg artwork" id="section-3.4-3.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="224" width="488" viewBox="0 0 488 224" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,208" fill="none" stroke="black"></path>
                <path d="M 24,96 L 24,160" fill="none" stroke="black"></path>
                <path d="M 96,96 L 96,160" fill="none" stroke="black"></path>
                <path d="M 128,80 L 128,112" fill="none" stroke="black"></path>
                <path d="M 128,144 L 128,176" fill="none" stroke="black"></path>
                <path d="M 184,64 L 184,96" fill="none" stroke="black"></path>
                <path d="M 184,160 L 184,192" fill="none" stroke="black"></path>
                <path d="M 240,104 L 240,152" fill="none" stroke="black"></path>
                <path d="M 288,64 L 288,96" fill="none" stroke="black"></path>
                <path d="M 288,160 L 288,192" fill="none" stroke="black"></path>
                <path d="M 312,32 L 312,168" fill="none" stroke="black"></path>
                <path d="M 312,184 L 312,208" fill="none" stroke="black"></path>
                <path d="M 344,112 L 344,144" fill="none" stroke="black"></path>
                <path d="M 392,144 L 392,176" fill="none" stroke="black"></path>
                <path d="M 440,112 L 440,144" fill="none" stroke="black"></path>
                <path d="M 480,32 L 480,208" fill="none" stroke="black"></path>
                <path d="M 8,32 L 480,32" fill="none" stroke="black"></path>
                <path d="M 184,64 L 288,64" fill="none" stroke="black"></path>
                <path d="M 128,80 L 176,80" fill="none" stroke="black"></path>
                <path d="M 24,96 L 96,96" fill="none" stroke="black"></path>
                <path d="M 184,96 L 288,96" fill="none" stroke="black"></path>
                <path d="M 96,112 L 128,112" fill="none" stroke="black"></path>
                <path d="M 344,112 L 440,112" fill="none" stroke="black"></path>
                <path d="M 96,144 L 128,144" fill="none" stroke="black"></path>
                <path d="M 344,144 L 440,144" fill="none" stroke="black"></path>
                <path d="M 24,160 L 96,160" fill="none" stroke="black"></path>
                <path d="M 184,160 L 288,160" fill="none" stroke="black"></path>
                <path d="M 128,176 L 176,176" fill="none" stroke="black"></path>
                <path d="M 296,176 L 392,176" fill="none" stroke="black"></path>
                <path d="M 184,192 L 288,192" fill="none" stroke="black"></path>
                <path d="M 8,208 L 480,208" fill="none" stroke="black"></path>
                <polygon class="arrowhead" points="304,176 292,170.4 292,181.6" fill="black" transform="rotate(180,296,176)"></polygon>
                <polygon class="arrowhead" points="248,152 236,146.4 236,157.6" fill="black" transform="rotate(90,240,152)"></polygon>
                <polygon class="arrowhead" points="248,104 236,98.4 236,109.6" fill="black" transform="rotate(270,240,104)"></polygon>
                <polygon class="arrowhead" points="184,176 172,170.4 172,181.6" fill="black" transform="rotate(0,176,176)"></polygon>
                <polygon class="arrowhead" points="184,80 172,74.4 172,85.6" fill="black" transform="rotate(0,176,80)"></polygon>
                <g class="text">
                  <text x="44" y="52">Upload</text>
                  <text x="104" y="52">Context</text>
                  <text x="352" y="52">Collect</text>
                  <text x="416" y="52">Context</text>
                  <text x="236" y="84">Helper</text>
                  <text x="60" y="132">Client</text>
                  <text x="392" y="132">Collector</text>
                  <text x="236" y="180">Leader</text>
                </g>
              </svg><a href="#section-3.4-3.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-diagram-of-contexts-in-dap" class="selfRef">Diagram of contexts in DAP</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="applying-privacy-partitioning">
<section id="section-4">
      <h2 id="name-applying-privacy-partitioni">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-applying-privacy-partitioni" class="section-name selfRef">Applying Privacy Partitioning</a>
      </h2>
<p id="section-4-1">Applying privacy partitioning to an existing or new system or protocol requires the following steps:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-2">
<li id="section-4-2.1">
          <p id="section-4-2.1.1">Identify the types of information used or exposed in a system or protocol, some
of which can be used to identify a user or correlate to other contexts.<a href="#section-4-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-4-2.2">
          <p id="section-4-2.2.1">Partition data to minimize the amount of user-identifying or correlatable
information in any given context to only include what is necessary for that
context, and prevent the sharing of data across contexts wherever possible.<a href="#section-4-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ol>
<p id="section-4-3">The most impactful types of information to partition are (a) user-identifying information,
such as user identifiers (including account names or IP addresses) that can be
linked and (b) non-user-identifying information (including content a user
generates or accesses), which can be often sensitive when combined with a user identifier.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">In this section, we discuss considerations for partitioning these types of information.<a href="#section-4-4" class="pilcrow">¶</a></p>
<div id="user-identifying-information">
<section id="section-4.1">
        <h3 id="name-user-identifying-informatio">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-user-identifying-informatio" class="section-name selfRef">User-Identifying Information</a>
        </h3>
<p id="section-4.1-1">User data can itself be user-identifying, in which case it should be treated as an identifier.
For example, Oblivious DoH and Oblivious HTTP partition the client IP address and client request data into
separate contexts, thereby ensuring that no entity beyond the client can observe both. Collusion across contexts
could reverse this partitioning, but can also promote non-user-identifying information to user-identifying.
For example, in CONNECT proxy systems that use QUIC, the QUIC connection ID is inherently non-user-identifying
since it is generated randomly (<span>[<a href="#QUIC" class="cite xref">QUIC</a>], <a href="https://rfc-editor.org/rfc/rfc9000#section-5.1" class="relref">Section 5.1</a></span>). However, if combined with another context that has user-identifying
information such as the client IP address, the QUIC connection ID can become user-identifying information.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Some information is innate to client user-agents, including details of implementation of
protocols in hardware and software, and network location. This information can be used to construct
user-identifying information, which is a process sometimes referred to as fingerprinting.
Depending on the application and system constraints, users may not be able to prevent fingerprinting
in privacy contexts. As a result, fingerprinting information, when combined with non-user-identifying
user data, could promote user data to user-identifying information.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="incorrect-or-incomplete-partitioning">
<section id="section-4.2">
        <h3 id="name-incorrect-or-incomplete-par">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-incorrect-or-incomplete-par" class="section-name selfRef">Incorrect or Incomplete Partitioning</a>
        </h3>
<p id="section-4.2-1">Privacy partitioning can be applied incorrectly or incompletely. Contexts may contain
more user-identifying information than desired, or some information in a context may be more user-identifying
than intended. Moreover, splitting user-identifying information over multiple contexts has to be done
with care, as creating more contexts can increase the number of entities that need to be trusted to not collude.
Nevertheless, partitions can help improve the client's privacy posture when applied carefully.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Evaluating and qualifying the resulting privacy of a system or protocol that applies privacy partitioning depends
on the contexts that exist and the types of user-identifying information in each context. Such evaluation is
helpful for identifying ways in which systems or protocols can improve their privacy posture. For example,
consider DNS-over-HTTPS <span>[<a href="#DOH" class="cite xref">DOH</a>]</span>, which produces a single context which contains both the client IP
address and client query. One application of privacy partitioning results in ODoH, which produces two contexts,
one with the client IP address and the other with the client query.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="identifying-information-for-partitioning">
<section id="section-4.3">
        <h3 id="name-identifying-information-for">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-identifying-information-for" class="section-name selfRef">Identifying Information for Partitioning</a>
        </h3>
<p id="section-4.3-1">Recognizing potential applications of privacy partitioning requires identifying the contexts in use, the information
exposed in a context, and the intent of information exposed in a context. Unfortunately, determining what
information to include in a given context is a nontrivial task. In principle, the information contained
in a context should be fit for purpose. As such, new systems or protocols developed should aim to
ensure that all information exposed in a context serves as few purposes as possible. Designing with this
principle from the start helps mitigate issues that arise if users of the system or protocol inadvertently
ossify on the information available in contexts. Legacy systems that have ossified on information available
in contexts may be difficult to change in practice. As an example, many existing anti-abuse systems
depend on some client identifier such as client IP address, coupled with client data, to provide
value. Partitioning contexts in these systems such that they no longer determine the client identity requires new
solutions to the anti-abuse problem.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="limits">
<section id="section-5">
      <h2 id="name-limits-of-privacy-partition">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-limits-of-privacy-partition" class="section-name selfRef">Limits of Privacy Partitioning</a>
      </h2>
<p id="section-5-1">Privacy Partitioning aims to increase user privacy, though as stated, it is not a panacea.
The privacy properties depend on numerous factors, including, though not limited to:<a href="#section-5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-2.1">
          <p id="section-5-2.1.1">Non-collusion across contexts; and<a href="#section-5-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-5-2.2">
          <p id="section-5-2.2.1">The type of information exposed in each context.<a href="#section-5-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-5-3">We elaborate on each below.<a href="#section-5-3" class="pilcrow">¶</a></p>
<div id="violations-by-collusion">
<section id="section-5.1">
        <h3 id="name-violations-by-collusion">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-violations-by-collusion" class="section-name selfRef">Violations by Collusion</a>
        </h3>
<p id="section-5.1-1">Privacy partitions ensure that only the client, i.e., the entity which is responsible for partitioning,
can independently link all user-specific information. No other entity individually
knows how to link all the user-specific information as long as they do not collude with each other
across contexts. Thus, non-collusion is a fundamental requirement for privacy partitioning
to offer meaningful privacy for end-users. In particular, the trust relationships that users have
with different parties affect the resulting impact on the user's privacy.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">As an example, consider OHTTP, wherein the Oblivious Relay knows the client identity but not
the client data, and the Oblivious Gateway knows the client data but not the client identity.
If the Oblivious Relay and Gateway collude, they can link client identity and data together
for each request and response transaction by simply observing requests in transit.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">It is not currently possible to guarantee with technical protocol measures that two
entities are not colluding. Even if two entities do not collude directly, if both entities reveal
information to other parties, it will not be possible to guarantee that the information won't
be combined. However, there are some mitigations that can be applied
to reduce the risk of collusion happening in practice:<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-4.1">
            <p id="section-5.1-4.1.1">Policy and contractual agreements between entities involved in partitioning to disallow
logging or sharing of data, along with auditing to validate that the policies are being followed.
For cases where logging is required (such as for service operation), such logged data should
be minimized and anonymized to prevent it from being useful for collusion.<a href="#section-5.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.1-4.2">
            <p id="section-5.1-4.2.1">Protocol requirements to make collusion or data sharing more difficult.<a href="#section-5.1-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.1-4.3">
            <p id="section-5.1-4.3.1">Adding more partitions and contexts, to make it increasingly difficult to collude with
enough parties to recover identities.<a href="#section-5.1-4.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="violations-by-insufficient-partitioning">
<section id="section-5.2">
        <h3 id="name-violations-by-insufficient-">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-violations-by-insufficient-" class="section-name selfRef">Violations by Insufficient Partitioning</a>
        </h3>
<p id="section-5.2-1">It is possible to define contexts that contain more than one type of user-specific information,
despite efforts to do otherwise. As an example, consider OHTTP used for the purposes of hiding
client-identifying information for a browser telemetry system. It is entirely possible for reports
in such a telemetry system to contain both client-specific telemetry data, such as information
about their specific browser instance, as well as client-identifying information, such as the client's
location or IP address. Even though OHTTP separates the client IP address from the server via
a relay, the server still learns this directly from the client.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">Other relevant examples of insufficient partitioning include TLS Encrypted Client Hello (ECH) <span>[<a href="#I-D.ietf-tls-esni" class="cite xref">I-D.ietf-tls-esni</a>]</span>
and VPNs. ECH use cryptographic protection (encryption) to hide information from unauthorized parties,
but both clients and servers (two entities) can link user-specific data to user-specific identifier (IP address).
Similarly, while VPNs hide identifiers from end servers, the VPN server can still see the identifiers of both the
client and server. Applying privacy partitioning would advocate for at least two additional entities to avoid
revealing both identity (who) and user actions (what) from each involved party.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">While straightforward violations of user privacy like this may seem straightforward to mitigate, it
remains an open problem to determine whether a certain set of information reveals "too much" about a
specific user. There is ample evidence of data being assumed "private" or "anonymous" but, in hindsight,
winds up revealing too much information such that it allows one to link back to individual
clients; see <span>[<a href="#DataSetReconstruction" class="cite xref">DataSetReconstruction</a>]</span> and <span>[<a href="#CensusReconstruction" class="cite xref">CensusReconstruction</a>]</span>
for more examples of this in the real world.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">Beyond the information that is intentionally revealed by applying privacy partitioning, it is also possible
for the information to be unintentionally revealed through side channels. For example, in the two-hop
proxy arrangement described in <a href="#masque" class="auto internal xref">Section 3.1</a>, Proxy A sees and proxies TLS data between the client and
Proxy B. While it does not directly learn information that Proxy B sees, it does learn information through
metadata, such as the timing and size of encrypted data being proxied. Traffic analysis could be exploited
to learn more information from such metadata, including, in some cases, application data that Proxy A was
never meant to see. Although privacy partitioning does not obviate such attacks, it does increase the cost
necessary to carry them out in practice. See <a href="#security-considerations" class="auto internal xref">Section 7</a> for more discussion on this topic.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="partitioning-impacts">
<section id="section-6">
      <h2 id="name-partitioning-impacts">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-partitioning-impacts" class="section-name selfRef">Partitioning Impacts</a>
      </h2>
<p id="section-6-1">Applying privacy partitioning to communication protocols leads to a substantial change in communication patterns.
For example, instead of sending traffic directly to a service, essentially all user traffic is routed through
a set of intermediaries, possibly adding more end-to-end round trips in the process (depending on the system
and protocol). This has a number of practical implications, described below.<a href="#section-6-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6-2">
<li id="section-6-2.1">
          <p id="section-6-2.1.1">Service operational or management challenges. Information that is traditionally passively observed in the
network or metadata that has been unintentionally revealed to the service provider cannot be used anymore
for e.g., existing security procedures such as application rate limiting or DDoS mitigation.
However, network management techniques deployed at present often rely on information that is exposed by
most traffic but without any guarantees that the information is accurate.<a href="#section-6-2.1.1" class="pilcrow">¶</a></p>
<p id="section-6-2.1.2">
Privacy partitioning provides an opportunity for improvements in these management techniques by
enabling active exchange of information with each entity in a privacy-preserving way and requesting
exactly the information needed for a specific task or function rather than relying on the assumption that
are derived from a limited set of unintentionally revealed information which cannot be guaranteed to be
present and may disappear at any time in future.<a href="#section-6-2.1.2" class="pilcrow">¶</a></p>
</li>
        <li id="section-6-2.2">
          <p id="section-6-2.2.1">Varying performance effects and costs. Depending on how context separation is done, privacy partitioning may
affect application performance. As an example, Privacy Pass introduces an entire end-to-end round
trip to issue a token before it can be redeemed, thereby decreasing performance. In contrast, while
systems like CONNECT proxying may seem like they would regress performance, oftentimes the highly
optimized nature of proxy-to-proxy paths leads to improved performance.<a href="#section-6-2.2.1" class="pilcrow">¶</a></p>
<p id="section-6-2.2.2">
Performance may also push back against the desire to apply privacy partitioning. For example, HTTPS
connection reuse <span>[<a href="#HTTP2" class="cite xref">HTTP2</a>], <a href="https://rfc-editor.org/rfc/rfc9113#section-9.1.1" class="relref">Section 9.1.1</a></span> allows clients to use an existing HTTPS session created
for one origin to interact with different origins (provided the original origin is authoritative for
these alternative origins). Reusing connections saves the cost of connection establishment, but means that
the server can now link the client's activity with these two or more origins together. Applying privacy
partitioning would prevent this, while typically at the cost of less performance.<a href="#section-6-2.2.2" class="pilcrow">¶</a></p>
<p id="section-6-2.2.3">
In general, while performance and privacy tradeoffs are often cast as a zero-sum game, in practice this
is often not the case. The relationship between privacy and performance varies depending on a number
of related factors, such as application characteristics, network path properties, and so on.<a href="#section-6-2.2.3" class="pilcrow">¶</a></p>
</li>
        <li id="section-6-2.3">
          <p id="section-6-2.3.1">Increased attack surface. Even in the event that information is adequately partitioned across
non-colluding parties, the resulting effects on the end-user may not always be positive. For example,
using OHTTP as a basis for illustration, consider a hypothetical scenario where the Oblivious
Gateway has an implementation flaw that causes all of its decrypt requests to be
inappropriately logged to a public or otherwise compromised location. Moreover, assume
that the Target Resource for which these requests are destined does not have such an
implementation flaw. Applications which use OHTTP with this flawed Oblivious Gateway to
interact with the Target Resource risk their user request information being made public,
albeit in a way that is decoupled from user identifying information, whereas applications
that do not use OHTTP to interact with the Target Resource do not risk this type of disclosure.<a href="#section-6-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-6-2.4">
          <p id="section-6-2.4.1">Centralization. Depending on the protocol and system, as well as the desired privacy properties, the
use of partitioning may inherently force centralization to a selected set of trusted participants.
As an example, the impact of OHTTP on end-user privacy generally increases proportionally to the
number of users that exist behind a given Oblivious Relay. That is, the probability of an Oblivious
Gateway determining the client associated with a request forwarded through an Oblivious Relay decreases
as the number of possible clients behind the Oblivious Relay increases. This tradeoff encourages
the centralization of the Oblivious Relays.<a href="#section-6-2.4.1" class="pilcrow">¶</a></p>
</li>
      </ol>
</section>
</div>
<div id="security-considerations">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1"><a href="#limits" class="auto internal xref">Section 5</a> discusses some of the limitations of privacy partitioning in practice. Applied correctly,
partitioning helps improve an end-user's privacy posture, thereby making violations harder to
do via technical, social, or policy means. For example, side channels such as traffic analysis
<span>[<a href="#I-D.irtf-pearg-website-fingerprinting" class="cite xref">I-D.irtf-pearg-website-fingerprinting</a>]</span> or timing analysis are still possible and can allow
an unauthorized entity to learn information about a context they are not a participant of.
Proposed mitigations for these types of attacks, e.g., padding application traffic or generating
fake traffic, can be very expensive and are therefore not typically applied in practice.
Nevertheless, privacy partitioning moves the threat vector from one that has direct access to
user-specific information to one which requires more effort, e.g., computational resources,
to violate end-user privacy.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document has no IANA actions.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-informative-references">
<section id="section-9">
      <h2 id="name-informative-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="CensusReconstruction">[CensusReconstruction]</dt>
      <dd>
<span class="refTitle">"The Census Bureau's Simulated Reconstruction-Abetted Re-identification Attack on the 2010 Census"</span>, <span>n.d.</span>, <span>&lt;<a href="https://www.census.gov/data/academy/webinars/2021/disclosure-avoidance-series/simulated-reconstruction-abetted-re-identification-attack-on-the-2010-census.html">https://www.census.gov/data/academy/webinars/2021/disclosure-avoidance-series/simulated-reconstruction-abetted-re-identification-attack-on-the-2010-census.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="CONNECT-IP">[CONNECT-IP]</dt>
      <dd>
<span class="refAuthor">Pauly, T.</span>, <span class="refAuthor">Schinazi, D.</span>, <span class="refAuthor">Chernyakhovsky, A.</span>, <span class="refAuthor">Kühlewind, M.</span>, and <span class="refAuthor">M. Westerlund</span>, <span class="refTitle">"Proxying IP in HTTP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-masque-connect-ip-13</span>, <time datetime="2023-04-28" class="refDate">28 April 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-masque-connect-ip-13">https://datatracker.ietf.org/doc/html/draft-ietf-masque-connect-ip-13</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="CONNECT-UDP">[CONNECT-UDP]</dt>
      <dd>
<span class="refAuthor">Schinazi, D.</span> and <span class="refAuthor">L. Pardue</span>, <span class="refTitle">"HTTP Datagrams and the Capsule Protocol"</span>, <span class="seriesInfo">RFC 9297</span>, <span class="seriesInfo">DOI 10.17487/RFC9297</span>, <time datetime="2022-08" class="refDate">August 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9297">https://www.rfc-editor.org/rfc/rfc9297</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DataSetReconstruction">[DataSetReconstruction]</dt>
      <dd>
<span class="refAuthor">Narayanan, A.</span> and <span class="refAuthor">V. Shmatikov</span>, <span class="refTitle">"Robust De-anonymization of Large Sparse Datasets"</span>, <span class="refContent">IEEE</span>, <span class="seriesInfo">2008 IEEE Symposium on Security and Privacy (sp 2008)</span>, <span class="seriesInfo">DOI 10.1109/sp.2008.33</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://doi.org/10.1109/sp.2008.33">https://doi.org/10.1109/sp.2008.33</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DECOUPLING">[DECOUPLING]</dt>
      <dd>
<span class="refAuthor">Schmitt, P.</span>, <span class="refAuthor">Iyengar, J.</span>, <span class="refAuthor">Wood, C.</span>, and <span class="refAuthor">B. Raghavan</span>, <span class="refTitle">"The decoupling principle: a practical privacy framework"</span>, <span class="refContent">ACM</span>, <span class="seriesInfo">Proceedings of the 21st ACM Workshop on Hot Topics in Networks</span>, <span class="seriesInfo">DOI 10.1145/3563766.3564112</span>, <time datetime="2022-11" class="refDate">November 2022</time>, <span>&lt;<a href="https://doi.org/10.1145/3563766.3564112">https://doi.org/10.1145/3563766.3564112</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DOH">[DOH]</dt>
      <dd>
<span class="refAuthor">Hoffman, P.</span> and <span class="refAuthor">P. McManus</span>, <span class="refTitle">"DNS Queries over HTTPS (DoH)"</span>, <span class="seriesInfo">RFC 8484</span>, <span class="seriesInfo">DOI 10.17487/RFC8484</span>, <time datetime="2018-10" class="refDate">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8484">https://www.rfc-editor.org/rfc/rfc8484</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HPKE">[HPKE]</dt>
      <dd>
<span class="refAuthor">Barnes, R.</span>, <span class="refAuthor">Bhargavan, K.</span>, <span class="refAuthor">Lipp, B.</span>, and <span class="refAuthor">C. Wood</span>, <span class="refTitle">"Hybrid Public Key Encryption"</span>, <span class="seriesInfo">RFC 9180</span>, <span class="seriesInfo">DOI 10.17487/RFC9180</span>, <time datetime="2022-02" class="refDate">February 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9180">https://www.rfc-editor.org/rfc/rfc9180</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HTTP2">[HTTP2]</dt>
      <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">C. Benfield, Ed.</span>, <span class="refTitle">"HTTP/2"</span>, <span class="seriesInfo">RFC 9113</span>, <span class="seriesInfo">DOI 10.17487/RFC9113</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9113">https://www.rfc-editor.org/rfc/rfc9113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-tls-esni">[I-D.ietf-tls-esni]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refAuthor">Oku, K.</span>, <span class="refAuthor">Sullivan, N.</span>, and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"TLS Encrypted Client Hello"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tls-esni-17</span>, <time datetime="2023-10-09" class="refDate">9 October 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni-17">https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni-17</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.irtf-pearg-website-fingerprinting">[I-D.irtf-pearg-website-fingerprinting]</dt>
      <dd>
<span class="refAuthor">Goldberg, I.</span>, <span class="refAuthor">Wang, T.</span>, and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"Network-Based Website Fingerprinting"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-pearg-website-fingerprinting-01</span>, <time datetime="2020-09-08" class="refDate">8 September 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-irtf-pearg-website-fingerprinting-01">https://datatracker.ietf.org/doc/html/draft-irtf-pearg-website-fingerprinting-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ODOH">[ODOH]</dt>
      <dd>
<span class="refAuthor">Kinnear, E.</span>, <span class="refAuthor">McManus, P.</span>, <span class="refAuthor">Pauly, T.</span>, <span class="refAuthor">Verma, T.</span>, and <span class="refAuthor">C.A. Wood</span>, <span class="refTitle">"Oblivious DNS over HTTPS"</span>, <span class="seriesInfo">RFC 9230</span>, <span class="seriesInfo">DOI 10.17487/RFC9230</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9230">https://www.rfc-editor.org/rfc/rfc9230</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OHTTP">[OHTTP]</dt>
      <dd>
<span class="refAuthor">Thomson, M.</span> and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"Oblivious HTTP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ohai-ohttp-10</span>, <time datetime="2023-08-25" class="refDate">25 August 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ohai-ohttp-10">https://datatracker.ietf.org/doc/html/draft-ietf-ohai-ohttp-10</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="PRIVACYPASS">[PRIVACYPASS]</dt>
      <dd>
<span class="refAuthor">Davidson, A.</span>, <span class="refAuthor">Iyengar, J.</span>, and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"The Privacy Pass Architecture"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-privacypass-architecture-16</span>, <time datetime="2023-09-25" class="refDate">25 September 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-privacypass-architecture-16">https://datatracker.ietf.org/doc/html/draft-ietf-privacypass-architecture-16</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC">[QUIC]</dt>
      <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6973">[RFC6973]</dt>
    <dd>
<span class="refAuthor">Cooper, A.</span>, <span class="refAuthor">Tschofenig, H.</span>, <span class="refAuthor">Aboba, B.</span>, <span class="refAuthor">Peterson, J.</span>, <span class="refAuthor">Morris, J.</span>, <span class="refAuthor">Hansen, M.</span>, and <span class="refAuthor">R. Smith</span>, <span class="refTitle">"Privacy Considerations for Internet Protocols"</span>, <span class="seriesInfo">RFC 6973</span>, <span class="seriesInfo">DOI 10.17487/RFC6973</span>, <time datetime="2013-07" class="refDate">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6973">https://www.rfc-editor.org/rfc/rfc6973</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">We would like to thank Martin Thomas, Eliot Lear, Mark Nottingham, Niles ten Oever, Vittori Bertola,
Antoine Fressancourt, Cullen Jennings, and Dhruv Dhody for their review and feedback.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mirja Kühlewind</span></div>
<div dir="auto" class="left"><span class="org">Ericsson Research</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mirja.kuehlewind@ericsson.com" class="email">mirja.kuehlewind@ericsson.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tommy Pauly</span></div>
<div dir="auto" class="left"><span class="org">Apple</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tpauly@apple.com" class="email">tpauly@apple.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Christopher A. Wood</span></div>
<div dir="auto" class="left"><span class="org">Cloudflare</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:caw@heapingbits.net" class="email">caw@heapingbits.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
